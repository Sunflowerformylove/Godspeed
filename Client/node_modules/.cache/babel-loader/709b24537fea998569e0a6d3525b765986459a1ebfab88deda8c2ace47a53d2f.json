{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hunter\\\\Desktop\\\\Godspeed\\\\Client\\\\src\\\\Components\\\\RoomNav.js\",\n  _s = $RefreshSig$();\nimport \"../Style/RoomNav.css\";\nimport { forwardRef, useEffect, useRef, useState } from \"react\";\nimport { Room, RoomExist } from \"./Room\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport Socket from \"./Socket\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const RoomNav = /*#__PURE__*/_s( /*#__PURE__*/forwardRef(_c = _s((props, ref) => {\n  _s();\n  const searchIconRef = useRef(null);\n  const searchContainerRef = useRef(null);\n  const [searchResult, setSearchRes] = useState([]);\n  const [room, setRoom] = useState([]);\n  useEffect(() => {\n    Socket.emit(\"getRoom\", Cookies.get(\"userID\"));\n    Socket.on(\"loadRoom\", data => {\n      setRoom(data);\n    });\n  }, []);\n  function searchUser(event) {\n    if (event.target.value.trim() !== \"\") {\n      axios({\n        method: \"POST\",\n        url: \"http://localhost:3000/search\",\n        data: JSON.stringify({\n          search: event.target.value.trim()\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => response.data).then(data => {\n        setSearchRes(data);\n      });\n    } else {\n      setSearchRes([]);\n    }\n  }\n  function checkContain(arr, obj) {\n    for (let i = 0; i < arr.length; i++) {\n      if (arr[i].roomID === obj.roomID) {\n        return true;\n      }\n    }\n    return false;\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"roomNav\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navHeader\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"textTitle\",\n          children: \"Chats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"search\",\n          onFocus: () => {\n            searchIconRef.current.style.display = \"none\";\n            searchContainerRef.current.style.display = \"flex\";\n          },\n          onBlur: event => {\n            if (event.target.value.length === 0) {\n              searchIconRef.current.style.display = \"flex\";\n              searchContainerRef.current.style.display = \"none\";\n            }\n          },\n          onInput: event => {\n            searchUser(event);\n          },\n          className: \"searchBar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          ref: searchIconRef,\n          className: \"fa-solid fa-magnifying-glass searchIcon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"roomContainer\",\n        children: room.map(room => {\n          return /*#__PURE__*/_jsxDEV(RoomExist, {\n            ID: room.recipient,\n            roomID: room.roomID,\n            message: props.message,\n            setMessage: props.setMessage,\n            ref: ref,\n            name: room.roomName,\n            lastMessage: !(props.currentMessage.room === room.roomID) ? room.lastMessage : props.currentMessage.content,\n            timestamp: room.timestamp,\n            sender: !props.currentMessage.room === room.roomID || props.currentMessage.senderName === undefined ? room.senderName : props.currentMessage.sender\n          }, room.roomID, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: searchContainerRef,\n        className: \"searchContainer\",\n        children: searchResult.map(user => {\n          return /*#__PURE__*/_jsxDEV(Room, {\n            ref: ref,\n            ID: user.ID,\n            searchContainerRef: searchContainerRef,\n            message: props.message,\n            setMessage: props.setMessage,\n            name: user.user\n          }, user.ID, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}, \"aC/p1eWTMFOaGhV5Ftcs/ttJIpQ=\")), \"aC/p1eWTMFOaGhV5Ftcs/ttJIpQ=\");\n_c2 = RoomNav;\nvar _c, _c2;\n$RefreshReg$(_c, \"RoomNav$forwardRef\");\n$RefreshReg$(_c2, \"RoomNav\");","map":{"version":3,"names":["forwardRef","useEffect","useRef","useState","Room","RoomExist","axios","Cookies","Socket","jsxDEV","_jsxDEV","Fragment","_Fragment","RoomNav","_s","_c","props","ref","searchIconRef","searchContainerRef","searchResult","setSearchRes","room","setRoom","emit","get","on","data","searchUser","event","target","value","trim","method","url","JSON","stringify","search","headers","then","response","checkContain","arr","obj","i","length","roomID","children","className","fileName","_jsxFileName","lineNumber","columnNumber","name","onFocus","current","style","display","onBlur","onInput","map","ID","recipient","message","setMessage","roomName","lastMessage","currentMessage","content","timestamp","sender","senderName","undefined","user","_c2","$RefreshReg$"],"sources":["C:/Users/Hunter/Desktop/Godspeed/Client/src/Components/RoomNav.js"],"sourcesContent":["import \"../Style/RoomNav.css\";\r\nimport { forwardRef, useEffect, useRef, useState } from \"react\";\r\nimport { Room, RoomExist } from \"./Room\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport Socket from \"./Socket\";\r\nexport const RoomNav = forwardRef((props, ref) => {\r\n  const searchIconRef = useRef(null);\r\n  const searchContainerRef = useRef(null);\r\n  const [searchResult, setSearchRes] = useState([]);\r\n  const [room, setRoom] = useState([]);\r\n  useEffect(() => {\r\n    Socket.emit(\"getRoom\", Cookies.get(\"userID\"));\r\n    Socket.on(\"loadRoom\", (data) => {\r\n      setRoom(data);\r\n    });\r\n  }, []);\r\n  function searchUser(event) {\r\n    if (event.target.value.trim() !== \"\") {\r\n      axios({\r\n        method: \"POST\",\r\n        url: \"http://localhost:3000/search\",\r\n        data: JSON.stringify({ search: event.target.value.trim() }),\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      })\r\n        .then((response) => response.data)\r\n        .then((data) => {\r\n          setSearchRes(data);\r\n        });\r\n    } else {\r\n      setSearchRes([]);\r\n    }\r\n  }\r\n\r\n  function checkContain(arr, obj) {\r\n    for (let i = 0; i < arr.length; i++) {\r\n      if (arr[i].roomID === obj.roomID) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"roomNav\">\r\n        <div className=\"navHeader\">\r\n          <span className=\"textTitle\">Chats</span>\r\n          <input\r\n            name=\"search\"\r\n            onFocus={() => {\r\n              searchIconRef.current.style.display = \"none\";\r\n              searchContainerRef.current.style.display = \"flex\";\r\n            }}\r\n            onBlur={(event) => {\r\n              if (event.target.value.length === 0) {\r\n                searchIconRef.current.style.display = \"flex\";\r\n                searchContainerRef.current.style.display = \"none\";\r\n              }\r\n            }}\r\n            onInput={(event) => {\r\n              searchUser(event);\r\n            }}\r\n            className=\"searchBar\"\r\n          />\r\n          <i\r\n            ref={searchIconRef}\r\n            className=\"fa-solid fa-magnifying-glass searchIcon\"\r\n          ></i>\r\n        </div>\r\n        <div className=\"roomContainer\">\r\n          {room.map((room) => {\r\n            return (\r\n              <RoomExist\r\n                key={room.roomID}\r\n                ID={room.recipient}\r\n                roomID={room.roomID}\r\n                message={props.message}\r\n                setMessage={props.setMessage}\r\n                ref={ref}\r\n                name={room.roomName}\r\n                lastMessage={\r\n                  !(props.currentMessage.room === room.roomID)\r\n                    ? room.lastMessage\r\n                    : props.currentMessage.content\r\n                }\r\n                timestamp={room.timestamp}\r\n                sender={\r\n                  !props.currentMessage.room === room.roomID || props.currentMessage.senderName === undefined\r\n                    ? room.senderName\r\n                    : props.currentMessage.sender\r\n                }\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n        <div ref={searchContainerRef} className=\"searchContainer\">\r\n          {searchResult.map((user) => {\r\n            return (\r\n              <Room\r\n                key={user.ID}\r\n                ref={ref}\r\n                ID={user.ID}\r\n                searchContainerRef={searchContainerRef}\r\n                message={props.message}\r\n                setMessage={props.setMessage}\r\n                name={user.user}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}