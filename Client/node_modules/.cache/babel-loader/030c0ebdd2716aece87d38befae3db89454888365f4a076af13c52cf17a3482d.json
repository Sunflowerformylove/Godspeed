{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nconst useRecorder = () => {\n  _s();\n  const [isRecording, setIsRecording] = useState(false);\n  const [recorder, setRecorder] = useState(null);\n  const [audioFile, setAudioFile] = useState(null);\n  useEffect(() => {\n    const audioChunks = [];\n    if (!recorder) {\n      if (isRecording) {\n        requestRecorder().then(setRecorder, console.error);\n      }\n      return;\n    }\n    if (isRecording) {\n      recorder.start();\n    } else {\n      recorder.stop();\n    }\n    const handleData = event => {\n      audioChunks.push(event.data);\n    };\n    recorder.addEventListener('dataavailable', handleData(event));\n    recorder.addEventListener('stop', () => {\n      const audioBlob = new Blob(audioChunks, {\n        type: 'audio/wav'\n      });\n      const file = new File([audioBlob], 'audio.wav', {\n        type: 'audio/wav'\n      });\n      setAudioFile(file);\n    });\n  }, [audioFile, isRecording, recorder]);\n  const startRecording = () => {\n    setIsRecording(true);\n  };\n  const stopRecording = () => {\n    setIsRecording(false);\n  };\n  return [audioFile, isRecording, startRecording, stopRecording];\n};\n_s(useRecorder, \"Oi2DpyNKKBBz6fk7ST1IJO5IPU0=\");\nasync function requestRecorder() {\n  const stream = await navigator.mediaDevices.getUserMedia({\n    audio: true\n  });\n  return new MediaRecorder(stream);\n}\nexport default useRecorder;","map":{"version":3,"names":["useEffect","useState","useRecorder","_s","isRecording","setIsRecording","recorder","setRecorder","audioFile","setAudioFile","audioChunks","requestRecorder","then","console","error","start","stop","handleData","event","push","data","addEventListener","audioBlob","Blob","type","file","File","startRecording","stopRecording","stream","navigator","mediaDevices","getUserMedia","audio","MediaRecorder"],"sources":["C:/Users/dodin/Desktop/Godspeed/Client/src/Components/useRecorder.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nconst useRecorder = () => {\r\n    const [isRecording, setIsRecording] = useState(false);\r\n    const [recorder, setRecorder] = useState(null);\r\n    const [audioFile, setAudioFile] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const audioChunks = [];\r\n        if (!recorder) {\r\n            if (isRecording) {\r\n                requestRecorder().then(setRecorder, console.error);\r\n            }\r\n            return;\r\n        }\r\n        if (isRecording) {\r\n            recorder.start();\r\n        }\r\n        else {\r\n            recorder.stop();\r\n        }\r\n\r\n        const handleData = (event) => {\r\n            audioChunks.push(event.data);\r\n        }\r\n\r\n        recorder.addEventListener('dataavailable', handleData(event));\r\n\r\n        recorder.addEventListener('stop', () => {\r\n            const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });\r\n            const file = new File([audioBlob], 'audio.wav', { type: 'audio/wav' });\r\n            setAudioFile(file);\r\n        });\r\n    }, [audioFile, isRecording, recorder]);\r\n\r\n    const startRecording = () => {\r\n        setIsRecording(true);\r\n    }\r\n\r\n    const stopRecording = () => {\r\n        setIsRecording(false);\r\n    }\r\n    return [audioFile, isRecording, startRecording, stopRecording];\r\n}\r\n\r\nasync function requestRecorder() {\r\n    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n    return new MediaRecorder(stream);\r\n}\r\n\r\nexport default useRecorder;"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGJ,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACK,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAEhDD,SAAS,CAAC,MAAM;IACZ,MAAMU,WAAW,GAAG,EAAE;IACtB,IAAI,CAACJ,QAAQ,EAAE;MACX,IAAIF,WAAW,EAAE;QACbO,eAAe,EAAE,CAACC,IAAI,CAACL,WAAW,EAAEM,OAAO,CAACC,KAAK,CAAC;MACtD;MACA;IACJ;IACA,IAAIV,WAAW,EAAE;MACbE,QAAQ,CAACS,KAAK,EAAE;IACpB,CAAC,MACI;MACDT,QAAQ,CAACU,IAAI,EAAE;IACnB;IAEA,MAAMC,UAAU,GAAIC,KAAK,IAAK;MAC1BR,WAAW,CAACS,IAAI,CAACD,KAAK,CAACE,IAAI,CAAC;IAChC,CAAC;IAEDd,QAAQ,CAACe,gBAAgB,CAAC,eAAe,EAAEJ,UAAU,CAACC,KAAK,CAAC,CAAC;IAE7DZ,QAAQ,CAACe,gBAAgB,CAAC,MAAM,EAAE,MAAM;MACpC,MAAMC,SAAS,GAAG,IAAIC,IAAI,CAACb,WAAW,EAAE;QAAEc,IAAI,EAAE;MAAY,CAAC,CAAC;MAC9D,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACJ,SAAS,CAAC,EAAE,WAAW,EAAE;QAAEE,IAAI,EAAE;MAAY,CAAC,CAAC;MACtEf,YAAY,CAACgB,IAAI,CAAC;IACtB,CAAC,CAAC;EACN,CAAC,EAAE,CAACjB,SAAS,EAAEJ,WAAW,EAAEE,QAAQ,CAAC,CAAC;EAEtC,MAAMqB,cAAc,GAAGA,CAAA,KAAM;IACzBtB,cAAc,CAAC,IAAI,CAAC;EACxB,CAAC;EAED,MAAMuB,aAAa,GAAGA,CAAA,KAAM;IACxBvB,cAAc,CAAC,KAAK,CAAC;EACzB,CAAC;EACD,OAAO,CAACG,SAAS,EAAEJ,WAAW,EAAEuB,cAAc,EAAEC,aAAa,CAAC;AAClE,CAAC;AAAAzB,EAAA,CAzCKD,WAAW;AA2CjB,eAAeS,eAAeA,CAAA,EAAG;EAC7B,MAAMkB,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;IAAEC,KAAK,EAAE;EAAK,CAAC,CAAC;EACzE,OAAO,IAAIC,aAAa,CAACL,MAAM,CAAC;AACpC;AAEA,eAAe3B,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}